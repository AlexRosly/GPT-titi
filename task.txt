üéØ –¶–µ–ª—å —à–∞–≥–∞ 4

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç:

GET /chat/history
–∫–æ—Ç–æ—Ä—ã–π:
–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å–æ–æ–±—â–µ–Ω–∏–π
–≤ —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ (—Å—Ç–∞—Ä—ã–µ ‚Üí –Ω–æ–≤—ã–µ)
—Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
–±–µ–∑ —Å—Ç—Ä–∏–º–∞, –ø—Ä–æ—Å—Ç–æ JSON (–¥–ª—è initial load —á–∞—Ç–∞)
4Ô∏è‚É£ –ö–æ–Ω—Ç—Ä–∞–∫—Ç —Ñ—Ä–æ–Ω—Ç ‚Üî –±–µ–∫
üîê –ó–∞–≥–æ–ª–æ–≤–∫–∏
Authorization: Bearer <accessToken>

üì§ –ó–∞–ø—Ä–æ—Å
GET /chat/history

5Ô∏è‚É£ –ö–∞–∫ —Ñ—Ä–æ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç

–ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —á–∞—Ç–∞

–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

–ü—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–§—Ä–æ–Ω—Ç:

–¥–µ—Ä–≥–∞–µ—Ç /chat/history

–∫–ª–∞–¥—ë—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –≤ state

–ø–æ—Ç–æ–º –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ /chat/stream

üß† –ß—Ç–æ –º—ã –ø–æ–ª—É—á–∏–ª–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ
–ó–∞–¥–∞—á–∞	–°—Ç–∞—Ç—É—Å
–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ user —Å–æ–æ–±—â–µ–Ω–∏–π	‚úÖ
–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ assistant –æ—Ç–≤–µ—Ç–æ–≤	‚úÖ
Short-term –ø–∞–º—è—Ç—å	‚úÖ
–ò—Å—Ç–æ—Ä–∏—è –¥–ª—è UI	‚úÖ
–°—Ç—Ä–∏–º –æ—Ç–¥–µ–ª—å–Ω–æ	‚úÖ


üß† –®–∞–≥ 5. –ü–∞–º—è—Ç—å —á–∞—Ç–∞
–ß—Ç–æ –¥–µ–ª–∞–µ–º –Ω–∞ —ç—Ç–æ–º —à–∞–≥–µ
‚úÖ –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–∞—è –ø–∞–º—è—Ç—å (STM)

–ø–æ—Å–ª–µ–¥–Ω–∏–µ N —Å–æ–æ–±—â–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, 20)

–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –∫ –º–æ–¥–µ–ª–∏

—É–∂–µ –ø–æ—á—Ç–∏ –≥–æ—Ç–æ–≤–æ ‚Äî –º—ã –µ—ë —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–ª–∏ –≤ streamChat

‚úÖ –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –ø–∞–º—è—Ç—å (LTM)

—Ö—Ä–∞–Ω–∏—Ç –≤–∞–∂–Ω—ã–µ —Ñ–∞–∫—Ç—ã –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

–ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ü–µ–ª–∏–∫–æ–º –≤ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å

–ø–æ–¥–º–µ—à–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ system-—Å–æ–æ–±—â–µ–Ω–∏–µ

–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (–Ω–µ –≤ —Å—Ç—Ä–∏–º–µ)

üß© –®–∞–≥ 6. –î–∏–∞–ª–æ–≥–∏ (Conversation / Chat)
–¶–µ–ª–∏ —à–∞–≥–∞ 6

üìÅ –ù–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Ç–æ–≤ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

üß† –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —á–∞—Ç—É

üìù –ù–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞ (–∞–≤—Ç–æ + —Ä—É—á–Ω–æ–µ)

üóë –£–¥–∞–ª–µ–Ω–∏–µ / –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ

üîÅ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –≤ —Ä–∞–º–∫–∞—Ö —á–∞—Ç–∞


üß© –ß—Ç–æ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å —Ç–µ–ø–µ—Ä—å
‚ùå –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å

previewLedger

chargeUserPreview

finalizeCharge —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é

estimateTokens (–∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –¥–ª—è preview UI)

‚úÖ –û—Å—Ç–∞–≤–∏—Ç—å

estimateCost ‚Üí UI / preview

calculateModelCost ‚Üí billing

finalizeCharge ‚Üí —Å–ø–∏—Å–∞–Ω–∏–µ